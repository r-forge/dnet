<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>dNetPipeline @ dnet 1.0.2</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">


<style type="text/css">

.navbar .brand {
  display: block;
  float: left;
  padding: 8px 20px 12px;
  margin-left: -20px;
  font-size: 20px;
  font-weight: 200;
  line-height: 1;
  color: #999999;
}

.navbar .brand:hover {
  color: #F87217;
  text-decoration: none;
  background-color: transparent;
}

.navbar .nav > li > a:hover {
  color: #F87217;
  text-decoration: underline;
  background-color: transparent;
}

</style>


<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- google analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17338744-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- Enlarge image -->
<script type="text/javascript">
    function newWin(url, name, width, height) { 
       
        var left = (screen.width/2)-(width/2);
        var top = (screen.height/2)-(height/2); 
        
        window.open(url,name,'scrollbars=yes,resizable=yes,fullscreen=yes, width=' + width + ', height='+height+', top='+top+', left='+left);
    }
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="index.html">dnet 1.0.2</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Home</a></li>
        </ul>
        <ul class="nav">
          <li><a href="install.html"><i class="icon-wrench icon-white"></i> Installation</a></li>
        </ul>
        <ul class="nav">
          <li><a href="docs.html"><i class="icon-book icon-white"></i> Documentations</a></li>
        </ul>
        <ul class="nav">
          <li><a href="rdata.html"><i class="icon-file icon-white"></i> RData</a></li>
        </ul>
        <ul class="nav">
          <li><a href="demos.html"><i class="icon-play icon-white"></i> Demos</a></li>
        </ul>
        <ul class="nav">
          <li><a href="cite.html"><i class="icon-pencil icon-white"></i> Citation</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

    <div class="container">
      <header>
        
      </header>
      
      <h2>Function to setup the pipeline for finding maximum-scoring subgraph from an input graph and the signficance imposed on its nodes</h2>

<div class="row">
  <div class="span8">
  
    <h3>Description</h3>
    <p><code>dNetPipeline</code> is supposed to finish ab inito
maximum-scoring subgraph identification for the input graph
with the node information on the significance (p-value or
fdr). It returns an object of class "igraph" or "graphNEL".</p>
  
    <h3>Usage</h3>
    <pre>dNetPipeline(g, pval, method = c("pdf", "cdf", "customised"), significance.threshold = NULL, 
  nsize = NULL, plot = F, verbose = T)</pre>
    
    <h3>Arguments</h3>
    <dl>
      <dt>g</dt>
      <dd>an object of class "igraph" or "graphNEL"</dd>
      <dt>pval</dt>
      <dd>a vector containing input p-values (or fdr).
For each element, it must have the name that could be
mapped onto the input graph. Also, the names in input
"pval" should contain all those in the input graph "g",
but the reverse is not necessary</dd>
      <dt>method</dt>
      <dd>the method used for the transformation. It
can be either "pdf" for the method based on the
probability density function of the fitted model, or
"cdf" for the method based on the cumulative distribution
function of the fitted model</dd>
      <dt>significance.threshold</dt>
      <dd>the given significance
threshold. By default, it is set to NULL, meaning there
is no constraint. If given, those p-values below this are
considered significant and thus scored positively.
Instead, those p-values above this given significance
threshold are considered insigificant and thus scored
negatively</dd>
      <dt>nsize</dt>
      <dd>the desired number of nodes constrained to
the resulting subgraph. It is not nulll, a wide range of
significance thresholds will be scanned to find the
optimal significance threshold leading to the desired
number of nodes in the resulting subgraph. Notably, the
given significance threshold will be overwritten by this
option.</dd>
      <dt>plot</dt>
      <dd>logical to indicate whether the histogram
plot, contour plot and scatter plot should be drawn. By
default, it sets to false for no plotting</dd>
      <dt>verbose</dt>
      <dd>logical to indicate whether the messages
will be displayed in the screen. By default, it sets to
true for display</dd>
    </dl>
    <!-- 
    -->
    
    <div class="Value">
      <h3>Value</h3>
      
      <p>a subgraph with a maximum score, an object of class
"igraph" or "graphNEL"</p>
    </div>
    <div class="Note">
      <h3>Note</h3>
      
      <p>The pipeline sequentially consists of: <ul>
<li>ia)
if the method is either "pdf" or "cdf",
<code><a href='dBUMfit.html'>dBUMfit</a></code> used to fit the p-value distribution
under beta-uniform mixture model, and
<code><a href='dBUMscore.html'>dBUMscore</a></code> used to calculate the scores
according to the fitted BUM and the significance
threshold. </li>
<li>ib) if the method is either "customised",
then the user input list of fdr (or p-values) and the
significance threshold will be directly used for score
transformation by <code>dFDRscore</code>. </li>
<li>ii) if there is
the desired number of nodes constrained to the resulting
subgraph, a wide range of significance thresholds
(including rough stage with large intervals, and finetune
stage with smaller intervals) will be scanned to find the
significance threshold to meet the desired number of
nodes. </li>
<li>iii) <code><a href='dNetFind.html'>dNetFind</a></code> used to find
maximum-scoring subgraph from the input graph and scores
imposed on its nodes. </li>
</ul></p>
      <p></p>
    </div>
    
    <h3 id="examples">Examples</h3>
    <pre class="examples"><div class='input'># 1) generate an vector consisting of random values from beta distribution
x <- rbeta(1000, shape1=0.5, shape2=1)
names(x) <- as.character(1:length(x))

# 2) generate a random graph according to the ER model
g <- erdos.renyi.game(1000, 1/100)

# 3) produce the induced subgraph only based on the nodes in query
subg <- dNetInduce(g, V(g), knn=0)

# 4) find maximum-scoring subgraph based on the given significance threshold
# 4a) assume the input is a list of p-values (controlling fdr=0.1)
subgraph <- dNetPipeline(g=subg, pval=x, significance.threshold=0.1)
</div>
<strong class='message'>Start at 2014-04-30 13:47:43</strong>
<strong class='message'></strong>
<strong class='message'>First, fit the input p-value distribution under beta-uniform mixture model...</strong>
<strong class='message'>	A total of p-values: 1000</strong>
<strong class='message'>	Maximum Log-Likelihood: 330.4</strong>
<strong class='message'>	Mixture parameter (lambda): 0.000</strong>
<strong class='message'>	Shape parameter (a): 0.489</strong>
<strong class='message'>Second, determine the significance threshold...</strong>
<strong class='message'>	significance threshold: 1.00e-01</strong>
<strong class='message'>Third, calculate the scores according to the fitted BUM and FDR threshold (if any)...</strong>
<strong class='message'>	Amongst 1000 scores, there are 224 positives.</strong>
<strong class='message'>Finally, find the subgraph from the input graph with 1000 nodes and 4879 edges...</strong>
<strong class='message'>	Size of the subgraph: 196 nodes and 246 edges</strong>
<strong class='message'>
Finish at 2014-04-30 13:47:44</strong>
<strong class='message'>Runtime in total is: 1 secs
</strong>
<div class='input'># 4b) assume the input is a list of customised significance (eg FDR directly)
subgraph <- dNetPipeline(g=subg, pval=x, method="customised",
significance.threshold=0.1)
</div>
<strong class='message'>Start at 2014-04-30 13:47:44</strong>
<strong class='message'></strong>
<strong class='message'>First, consider the input fdr (or p-value) distribution</strong>
<strong class='message'>Second, determine the significance threshold...</strong>
<strong class='message'>	significance threshold: 1.00e-01</strong>
<strong class='message'>Third, calculate the scores according to the input fdr (or p-value) and the threshold (if any)...</strong>
<strong class='message'>	Amongst 1000 scores, there are 312 positives.</strong>
<strong class='message'>Finally, find the subgraph from the input graph with 1000 nodes and 4879 edges...</strong>
<strong class='message'>	Size of the subgraph: 302 nodes and 526 edges</strong>
<strong class='message'>
Finish at 2014-04-30 13:47:47</strong>
<strong class='message'>Runtime in total is: 3 secs
</strong>
<div class='input'>
# 5) find maximum-scoring subgraph with the desired node number nsize=20
subgraph <- dNetPipeline(g=subg, pval=x, nsize=20)
</div>
<strong class='message'>Start at 2014-04-30 13:47:47</strong>
<strong class='message'></strong>
<strong class='message'>First, fit the input p-value distribution under beta-uniform mixture model...</strong>
<strong class='message'>	A total of p-values: 1000</strong>
<strong class='message'>	Maximum Log-Likelihood: 330.4</strong>
<strong class='message'>	Mixture parameter (lambda): 0.000</strong>
<strong class='message'>	Shape parameter (a): 0.489</strong>
<strong class='message'>Second, determine the significance threshold...</strong>
<strong class='message'>	Via constraint on the size of subnetwork to be identified (20 nodes)</strong>
<strong class='message'>	Scanning significance threshold at rough stage...</strong>
<strong class='message'>		significance threshold: 1.00e-06, corresponding to the network size (0 nodes)</strong>
<strong class='message'>		significance threshold: 1.00e-05, corresponding to the network size (0 nodes)</strong>
<strong class='message'>		significance threshold: 1.00e-04, corresponding to the network size (0 nodes)</strong>
<strong class='message'>		significance threshold: 1.00e-03, corresponding to the network size (1 nodes)</strong>
<strong class='message'>		significance threshold: 1.00e-02, corresponding to the network size (7 nodes)</strong>
<strong class='message'>		significance threshold: 1.00e-01, corresponding to the network size (196 nodes)</strong>
<strong class='message'>	Scanning significance threshold at finetune stage...</strong>
<strong class='message'>		significance threshold : 1.50e-02, corresponding to the network size (2 nodes)</strong>
<strong class='message'>		significance threshold : 2.00e-02, corresponding to the network size (14 nodes)</strong>
<strong class='message'>		significance threshold : 2.50e-02, corresponding to the network size (25 nodes)</strong>
<strong class='message'>	significance threshold: 2.50e-02</strong>
<strong class='message'>Third, calculate the scores according to the fitted BUM and FDR threshold (if any)...</strong>
<strong class='message'>	Amongst 1000 scores, there are 60 positives.</strong>
<strong class='message'>Finally, find the subgraph from the input graph with 1000 nodes and 4879 edges...</strong>
<strong class='message'>	Size of the subgraph: 25 nodes and 26 edges</strong>
<strong class='message'>
Finish at 2014-04-30 13:47:51</strong>
<strong class='message'>Runtime in total is: 4 secs
</strong></pre>
  </div>
  
  <div class="span4">
    
    <!-- 
    <ul>
      <li>dNetPipeline</li>
    </ul>
    <ul>
      
    </ul> 
    -->
      
    <h2>See also</h2>
    
<code><a href='dBUMfit.html'>dBUMfit</a></code>, <code><a href='dBUMscore.html'>dBUMscore</a></code>,
<code><a href='dFDRscore.html'>dFDRscore</a></code>, <code><a href='dNetFind.html'>dNetFind</a></code>

    
    <h2>Citation</h2>
    <p>Fang H, Gough J. (2014) dnet: an open-source R package for integrative analysis of high-throughput digitised data in terms of network, ontology and evolution. <a href="http://dnet.r-forge.r-project.org">http://dnet.r-forge.r-project.org</a></p>

    
    <!--
    
    <h2>URL</h2>
    <ul>
      <li><a href="http://dnet.r-forge.r-project.org">http://dnet.r-forge.r-project.org</a></li>
    </ul>
    
    
    -->
    
  </div>
  
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>

<p><a href="mailto:hfang@cs.bris.ac.uk" title="Hai Fang">Hai Fang</a></p>
<p><a href="http://bioinformatics.bris.ac.uk">Computational Genomics Group, Department of Computer Science, University of Bristol, UK</a></p>


      </footer>
    </div>
  </body>
</html>