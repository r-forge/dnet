<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>visNetAnimate @ dnet 1.1.2</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">


<style type="text/css">

.navbar .brand {
  display: block;
  float: left;
  padding: 8px 20px 12px;
  margin-left: -20px;
  font-size: 20px;
  font-weight: 200;
  line-height: 1;
  color: #999999;
}

.navbar .brand:hover {
  color: #F87217;
  text-decoration: none;
  background-color: transparent;
}

.navbar .nav > li > a:hover {
  color: #F87217;
  text-decoration: underline;
  background-color: transparent;
}

</style>


<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- google analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17338744-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- Enlarge image -->
<script type="text/javascript">
    function newWin(url, name, width, height) { 
       
        var left = (screen.width/2)-(width/2);
        var top = (screen.height/2)-(height/2); 
        
        window.open(url,name,'scrollbars=yes,resizable=yes,fullscreen=yes, width=' + width + ', height='+height+', top='+top+', left='+left);
    }
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="index.html">dnet 1.1.2</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Home</a></li>
        </ul>
        <ul class="nav">
          <li><a href="install.html"><i class="icon-wrench icon-white"></i> Installation</a></li>
        </ul>
        <ul class="nav">
          <li><a href="docs.html"><i class="icon-book icon-white"></i> Documentations</a></li>
        </ul>
        <ul class="nav">
          <li><a href="rdata.html"><i class="icon-file icon-white"></i> RData</a></li>
        </ul>
        <ul class="nav">
          <li><a href="demos.html"><i class="icon-play icon-white"></i> Demos</a></li>
        </ul>
        <ul class="nav">
          <li><a href="faqs.html"><i class="icon-question-sign icon-white"></i> FAQs</a></li>
        </ul>
        <ul class="nav">
          <li><a href="cite.html"><i class="icon-pencil icon-white"></i> Citation</a></li>
        </ul>
       
        <!-- HTML for GOOLE SEARCH BAR 
        <ul class="nav">
            <div id="search-wrapper">
                <form id="search" method="get" action="http://www.google.com/custom">
                    <div class="search-box">
                        <i class="icon-search icon-white"></i>
                        <input type="text" id="tfq" class="textinput" name="q" size="21" maxlength="120" value="Google Search"/>
                    </div>
                </form>
            </div>
        </ul>
        -->
        
      </div>
    </div>
  </div>
</div>

<!-- CSS styles for standard search box with placeholder text-->
<style type="text/css">
    #search-wrapper {
        width:300px;
        height:40px;
        background-color:transparent;
        margin:0px auto 0;
        border:0px solid #ff0000;
        -moz-border-radius: 2px; /* FF1+ */
        -webkit-border-radius: 2px; /* Saf3-4 */
        border-radius: 2px; /* Opera 10.5, IE 9, Saf5, Chrome */
        position:relative;
    }

    #search {
        background-color:transparent;
        padding:0px;
        height:40px;
        overflow:hidden;
    }

    .search-box {
        width:250px;
        height:32px;
        background-color:transparent;
        margin:2px 7px;
        border:0px solid #cfcfcf;
        -moz-border-radius: 2px; /* FF1+ */
        -webkit-border-radius: 2px; /* Saf3-4 */
        border-radius: 2px; /* Opera 10.5, IE 9, Saf5, Chrome */
        position:relative;
    }

	.textinput{
		margin: 0;
		padding: 5px 15px;
		font-family: Arial, Helvetica, sans-serif;
		font-size:14px;
		color:#999999;
		border:1px solid #f00; border-right:0px;
		border-top-left-radius: 5px 5px;
		border-bottom-left-radius: 5px 5px;
	}
</style>

<!-- JAVASCRIPT to clear search text when the field is clicked -->
<script type="text/javascript">
window.onload = function(){
	//Get submit button
	var submitbutton = document.getElementById("tfq");
	//Add listener to submit button
	if(submitbutton.addEventListener){
		submitbutton.addEventListener("click", function() {
			if (submitbutton.value == 'Google Search'){//Customize this text string to whatever you want
				submitbutton.value = 'dnet R ';
			}
		});
	}
}
</script>

<script>
  (function() {
    var cx = '012094530736424854714:djnz9oat1hu';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>

<div><gcse:search></gcse:search></div>

    <div class="container">
      <header>
        
      </header>
      
      <h2>Function to animate the same graph but with multiple graph node colorings according to input data matrix</h2>

<div class="row">
  <div class="span8">
  
    <h3>Description</h3>
    <p><code>visNetAnimate</code> is supposed to animate the same graph but with
multiple colorings according to input data matrix. The output can be a
pdf file containing a list of frames/images, a mp4 video file or a gif
file. To support video output file, the software 'ffmpeg' must be first
installed (also put its path into the system PATH variable; see Note).
To support gif output file, the software 'ImageMagick' must be first
installed (also put its path into the system PATH variable; see Note).</p>
  
    <h3>Usage</h3>
    <pre>visNetAnimate(g, data, filename = "visNetAnimate", filetype = c("pdf", "mp4", "gif"), 
  image.type = c("jpg", "png"), num.frame = ncol(data), sec_per_frame = 1, height.device = 7, 
      margin = rep(0.1, 4), border.color = "#EEEEEE", colormap = c("bwr", "jet", "gbr", 
          "wyr", "br", "yr", "rainbow", "wb"), ncolors = 40, zlim = NULL, colorbar = T, 
      colorbar.fraction = 0.25, glayout = layout.fruchterman.reingold, glayout.dynamics = F, 
      mtext.side = 3, mtext.adj = 0, mtext.cex = 1, mtext.font = 2, mtext.col = "black", 
      ...)</pre>
    
    <h3>Arguments</h3>
    <dl>
      <dt>g</dt>
      <dd>an object of class "igraph" or "graphNEL"</dd>
      <dt>data</dt>
      <dd>an input data matrix used to color-code vertices/nodes. One
column corresponds to one graph node coloring. The input matrix must
have row names, and these names should include all node names of input
graph, i.e. V(g)$name, since there is a mapping operation. After
mapping, the length of the patern vector should be the same as the
number of nodes of input graph. The way of how to color-code is to map
values in the pattern onto the whole colormap (see the next arguments:
colormap, ncolors, zlim and colorbar)</dd>
      <dt>filename</dt>
      <dd>the without-extension part of the name of the output
file. By default, it is 'visNetAnimate'</dd>
      <dt>filetype</dt>
      <dd>the type of the output file, i.e. the extension of the
output file name. It can be one of either 'pdf' for the pdf file, 'mp4'
for the mp4 video file, 'gif' for the gif file</dd>
      <dt>image.type</dt>
      <dd>the type of the image files temporarily generated. It
can be one of either 'jpg' or 'png'. These temporary image files are
used for producing mp4/gif output file. The reason doing so is to
accommodate that sometimes only one of image types is supported so that
you can choose the right one</dd>
      <dt>num.frame</dt>
      <dd>a numeric value specifying the number of
frames/images. By default, it sets to the number of columns in the
input data matrix</dd>
      <dt>sec_per_frame</dt>
      <dd>a numeric value specifying how long (seconds) it
takes to stream a frame/image. This argument only works when producing
mp4 video or gif file.</dd>
      <dt>height.device</dt>
      <dd>a numeric value specifying the height (or width)
of device/frame/image.</dd>
      <dt>margin</dt>
      <dd>margins as units of length 4 or 1</dd>
      <dt>border.color</dt>
      <dd>the border color of each figure</dd>
      <dt>colormap</dt>
      <dd>short name for the colormap. It can be one of "jet"
(jet colormap), "bwr" (blue-white-red colormap), "gbr" (green-black-red
colormap), "wyr" (white-yellow-red colormap), "br" (black-red
colormap), "yr" (yellow-red colormap), "wb" (white-black colormap), and
"rainbow" (rainbow colormap, that is,
red-yellow-green-cyan-blue-magenta). Alternatively, any
hyphen-separated HTML color names, e.g. "blue-black-yellow",
"royalblue-white-sandybrown", "darkgreen-white-darkviolet". A list of
standard color names can be found in
<a href = 'http://html-color-codes.info/color-names'>http://html-color-codes.info/color-names</a></dd>
      <dt>ncolors</dt>
      <dd>the number of colors specified over the colormap</dd>
      <dt>zlim</dt>
      <dd>the minimum and maximum z/patttern values for which colors
should be plotted, defaulting to the range of the finite values of z.
Each of the given colors will be used to color an equispaced interval
of this range. The midpoints of the intervals cover the range, so that
values just outside the range will be plotted</dd>
      <dt>colorbar</dt>
      <dd>logical to indicate whether to append a colorbar. If
pattern is null, it always sets to false</dd>
      <dt>colorbar.fraction</dt>
      <dd>the relative fraction of colorbar block
against the figure block</dd>
      <dt>glayout</dt>
      <dd>either a function or a numeric matrix configuring how
the vertices will be placed on the plot. If layout is a function, this
function will be called with the graph as the single parameter to
determine the actual coordinates. This function can be one of
"layout.auto", "layout.random", "layout.circle", "layout.sphere",
"layout.fruchterman.reingold", "layout.kamada.kawai", "layout.spring",
"layout.reingold.tilford", "layout.fruchterman.reingold.grid",
"layout.lgl", "layout.graphopt", "layout.svd" and "layout.norm". A full
explanation of these layouts can be found in
<a href = 'http://igraph.org/r/doc/layout_nicely.html'>http://igraph.org/r/doc/layout_nicely.html</a></dd>
      <dt>glayout.dynamics</dt>
      <dd>logical to indicate whether graph layout should
be dynamic. By default, it always sets to false. If YES, the
Fruchterman-Reingold layout algorithm
<a href = 'http://igraph.org/r/doc/layout_with_fr.html'>http://igraph.org/r/doc/layout_with_fr.html</a> will be used to
stimulate the dynamic layout</dd>
      <dt>mtext.side</dt>
      <dd>on which side of the mtext plot (1=bottom, 2=left,
3=top, 4=right)</dd>
      <dt>mtext.adj</dt>
      <dd>the adjustment for mtext alignment (0 for left or
bottom alignment, 1 for right or top alignment)</dd>
      <dt>mtext.cex</dt>
      <dd>the font size of mtext labels</dd>
      <dt>mtext.font</dt>
      <dd>the font weight of mtext labels</dd>
      <dt>mtext.col</dt>
      <dd>the color of mtext labels</dd>
      <dt>...</dt>
      <dd>additional graphic parameters. See
<a href = 'http://igraph.org/r/doc/plot.common.html'>http://igraph.org/r/doc/plot.common.html</a> for the complete list.</dd>
    </dl>
    <!-- 
    -->
    
    <!-- 
    <div class="Value">
    -->
      <h3>Value</h3>
      
      <p>If specifying the output file name (see argument 'filename' above), the
output file is either 'filename.pdf' or 'filename.mp4' or
'filename.gif' in the current working directory. If no output file name
specified, by default the output file is either 'visNetAnimate.pdf' or
'visNetAnimate.mp4' or 'visNetAnimate.gif'</p>
    <!-- 
    </div>
    -->
    <!-- 
    <div class="Note">
    -->
      <h3>Note</h3>
      
      <p>When producing mp4 video, this function requires the installation of
the software 'ffmpeg' at https://www.ffmpeg.org. Shell command lines
for ffmpeg installation in Terminal (for both Linux and Mac) are:
<ul>
<li>1) <code>wget -O ffmpeg.tar.gz
http://www.ffmpeg.org/releases/ffmpeg-2.7.1.tar.gz</code>
</li>
<li>2) <code>mkdir ~/ffmpeg | tar xvfz ffmpeg.tar.gz -C ~/ffmpeg
--strip-components=1</code>
</li>
<li>3) <code>cd ffmpeg</code>
</li>
<li>4a) # Assuming you want installation with a ROOT (sudo)
privilege: <code>./configure --disable-yasm</code>
</li>
<li>4b) # Assuming you want local installation without ROOT (sudo)
privilege: <code>./configure --disable-yasm --prefix=$HOME/ffmpeg</code>
</li>
<li>5) <code>make</code>
</li>
<li>6) <code>make install</code>
</li>
<li>7) # add the system PATH variable to your ~/.bash_profile file if
you follow 4b) route: <code>export PATH=$HOME/ffmpeg:$PATH</code>
</li>
<li>8) # make sure ffmpeg has been installed successfully:
<code>ffmpeg -h</code>
</li>
</ul></p>
      <p>When producing gif file, this function requires the installation of the
software 'ImageMagick' at http://www.imagemagick.org. Shell command
lines for ImageMagick installation in Terminal are:
<ul>
<li>1) <code>wget
http://www.imagemagick.org/download/ImageMagick.tar.gz</code>
</li>
<li>2) <code>mkdir ~/ImageMagick | tar xvzf ImageMagick.tar.gz -C
~/ImageMagick --strip-components=1</code>
</li>
<li>3) <code>cd ImageMagick</code>
</li>
<li>4) <code>./configure --prefix=$HOME/ImageMagick</code>
</li>
<li>5) <code>make</code>
</li>
<li>6) <code>make install</code>
</li>
<li>7) # add the system PATH variable to your ~/.bash_profile file.
 For Linux: <code>export MAGICK_HOME=$HOME/ImageMagick</code>
<code>export PATH=$MAGICK_HOME/bin:$PATH</code> <code>export
LD_LIBRARY_PATH=${LD_LIBRARY_PATH:+$LD_LIBRARY_PATH:}$MAGICK_HOME/lib</code>
 For Mac: <code>export MAGICK_HOME=$HOME/ImageMagick</code>
<code>export PATH=$MAGICK_HOME/bin:$PATH</code> <code>export
DYLD_LIBRARY_PATH=$MAGICK_HOME/lib/</code>
</li>
<li>8a) # check configuration: <code>convert -list configure</code>
</li>
<li>8b) # check image format supported: <code>identify -list
format</code>
</li>
<li>Tips:  Prior to 4), please make sure <code>libjpeg</code> and
<code>libpng</code> are installed. If NOT, for Mac try this: <code>brew
install libjpeg libpng</code>  To check whether ImageMagick does work,
please get additional information from: <code>identify -list format</code>
<code>convert -list configure</code>  On details, please refer to
<a href = 'http://www.imagemagick.org/script/advanced-unix-installation.php'>http://www.imagemagick.org/script/advanced-unix-installation.php</a>
</li>
</ul></p>
      <p></p>
    <!-- 
    </div>
    -->
    
    <h3 id="examples">Examples</h3>
    <pre class="examples"><div class='input'># 1) generate a random graph according to the ER model
g <- erdos.renyi.game(100, 1/100)

# 2) produce the induced subgraph only based on the nodes in query
subg <- dNetInduce(g, V(g), knn=0)

# 3) visualise the module with vertices being color-coded by scores
nnodes <- vcount(subg)
nsamples <- 10
data <- matrix(runif(nnodes*nsamples), nrow=nnodes, ncol=nsamples)
rownames(data) <- V(subg)$name
# output as a <a href="visNetAnimate.pdf">pdf</a> file
visNetAnimate(g=subg, data=data, filetype="pdf")
</div>
<strong class='message'>Congratulations! A file 'visNetAnimate.pdf' (in the directory /Users/hfang/Sites/SUPERFAMILY/dnet) has been created!</strong>
<div class='input'># output as a <a href="visNetAnimate.mp4">mp4</a> file but with dynamic layout
visNetAnimate(g=subg, data=data, filetype="mp4", glayout.dynamics=TRUE)
</div>
<strong class='message'>Executing this command: 'ffmpeg -y -v quiet -r 1 -i /var/folders/wq/4cmk3m511571471lj67cpmbh0000gn/T//RtmpncsM2C/Rplot%06d.jpg -q:v 1 /var/folders/wq/4cmk3m511571471lj67cpmbh0000gn/T//RtmpncsM2C/visNetAnimate.mp4'
</strong>
<strong class='message'>Congratulations! A file 'visNetAnimate.mp4' (in the directory /Users/hfang/Sites/SUPERFAMILY/dnet) has been created!</strong>
<div class='input'># output as a <a href="visNetAnimate.gif">gif</a> file but with dynamic layout
visNetAnimate(g=subg, data=data, filetype="gif", glayout.dynamics=TRUE)
</div>
<strong class='message'>Executing this command: 'convert -delay 100 /var/folders/wq/4cmk3m511571471lj67cpmbh0000gn/T//RtmpncsM2C/Rplot*.jpg /var/folders/wq/4cmk3m511571471lj67cpmbh0000gn/T//RtmpncsM2C/visNetAnimate.gif'
</strong>
<strong class='message'>Congratulations! A file 'visNetAnimate.gif' (in the directory /Users/hfang/Sites/SUPERFAMILY/dnet) has been created!</strong></pre>
  </div>
  
  <div class="span4">
    
    <!-- 
    <ul>
      <li>visNetAnimate</li>
    </ul>
    <ul>
      
    </ul> 
    -->
    
    <h2>Source code</h2>
    <a href="javascript:newWin('R/visNetAnimate.r', 'R/visNetAnimate.r', '1200', '1200')" title="Click to view"><B><code>visNetAnimate.r</code></B></a>
    
    <h2>Source man</h2>
    <a href="javascript:newWin('man/visNetAnimate.txt', 'man/visNetAnimate.txt', '1200', '1200')" title="Click to view"><B><code>visNetAnimate.Rd</code></B></a>
    
    <a href="javascript:newWin('man/visNetAnimate.pdf', 'man/visNetAnimate.pdf', '1200', '1200')" title="Click to view"><B><code>visNetAnimate.pdf</code></B></a>
    
    <h2>See also</h2>
    
<code><a href='visNetMul.html'>visNetMul</a></code>

    <!--

    <h2>Citation</h2>
    <p>Fang H, Gough J. (2014) <B>The &#39;dnet&#39; approach promotes emerging research on cancer patient survival</B>. <I>Genome Medicine</I>, 6(8):64. <a href="http://dx.doi.org/10.1186/s13073-014-0064-8">doi:10.1186/s13073-014-0064-8</a>, PMID: <a href="http://www.ncbi.nlm.nih.gov/pubmed/25246945">25246945</a></p>

<p>You may also cite the package as:</p>

<ul>
<li><code>web link/URL</code></li>
</ul>

<p>Package &ldquo;dnet&rdquo; [<a href="http://cran.r-project.org/package=dnet">http://cran.r-project.org/package=dnet</a>]</p>

    
    
    <h2>URL</h2>
    <ul>
      <li><a href="http://dnet.r-forge.r-project.org">http://dnet.r-forge.r-project.org</a></li>
      <li><a href=" https://github.com/hfang-bristol/dnet"> https://github.com/hfang-bristol/dnet</a></li>
    </ul>
    
    
    -->
    
  </div>
  
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>

<p><a href="mailto:hfang.shanghai@gmail.com" title="Hai Fang">Hai Fang</a></p>
<p><a href="http://bioinformatics.bris.ac.uk">Computational Genomics Group, Department of Computer Science, University of Bristol, UK</a></p>


      </footer>
    </div>
  </body>
</html>